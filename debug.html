<!DOCTYPE html>
<html>
<head>
    <title>Debug Test</title>
</head>
<body>
    <h1>Function Debug Test</h1>
    <button onclick="testAddCard()" style="padding: 10px; margin: 5px;">Test addCard</button>
    <button onclick="testShowView()" style="padding: 10px; margin: 5px;">Test showView</button>
    <button onclick="testStartStudy()" style="padding: 10px; margin: 5px;">Test startStudy</button>
    
    <div id="output" style="background: #f0f0f0; padding: 10px; margin: 10px 0; font-family: monospace;">
        Debug output will appear here...
    </div>
    
    <script src="script.js?v=20250926b"></script>
    <script>
        function log(msg) {
            const output = document.getElementById('output');
            output.innerHTML += new Date().toLocaleTimeString() + ': ' + msg + '<br>';
        }
        
        function testAddCard() {
            log('Testing addCard...');
            try {
                if (typeof addCard === 'function') {
                    log('addCard is defined as function');
                    addCard();
                    log('addCard called successfully');
                } else {
                    log('ERROR: addCard is not a function, type: ' + typeof addCard);
                }
            } catch (e) {
                log('ERROR calling addCard: ' + e.message);
            }
        }
        
        function testShowView() {
            log('Testing showView...');
            try {
                if (typeof showView === 'function') {
                    log('showView is defined as function');
                    showView('home');
                    log('showView called successfully');
                } else {
                    log('ERROR: showView is not a function, type: ' + typeof showView);
                }
            } catch (e) {
                log('ERROR calling showView: ' + e.message);
            }
        }
        
        function testStartStudy() {
            log('Testing startStudy...');
            try {
                if (typeof startStudy === 'function') {
                    log('startStudy is defined as function');
                    startStudy(0);
                    log('startStudy called successfully');
                } else {
                    log('ERROR: startStudy is not a function, type: ' + typeof startStudy);
                }
            } catch (e) {
                log('ERROR calling startStudy: ' + e.message);
            }
        }
        
        // Test on page load
        document.addEventListener('DOMContentLoaded', function() {
            log('DOM loaded');
            log('app variable: ' + typeof app);
            log('window.app: ' + typeof window.app);
            log('window.flashCardsApp: ' + typeof window.flashCardsApp);
            
            setTimeout(() => {
                log('After 1 second:');
                log('app variable: ' + typeof app);
                log('window.flashCardsApp: ' + typeof window.flashCardsApp);
                log('addCard function: ' + typeof addCard);
                log('window.addCard: ' + typeof window.addCard);
            }, 1000);
        });
    </script>
</body>
</html>